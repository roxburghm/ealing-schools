const schoolsList = [
    {
        "name": "Ada Lovelace Church of England High School",
        "shortName": "Ada Lovelace",
        "intakeDist": {
            "2019": 0.749,
            "2020": 0.885,
            "2021": 0.726,
            "2022": 0.626,
            "2023": null,
            "2024": 0.727
        },
        "visible": true,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2023-03-08",
        "centre": {
            "lat": 51.518949,
            "lng": -0.293081
        },
        "description": "",
        "website": "www.adalovelace.org.uk",
        "colour": "#008f91",
        "schoolId": 41687,
        "email": "admissions@adalovelace.org.uk",
        "address": "Park View Road<BR>Ealing<BR>London<BR>W5 2JX",
        "phone": "020 3540 0200",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/145724",
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/145724/ada-lovelace-church-of-england-high-school/secondary",
        "progress8": 1.4,
        "progress8Confidence": "Low",
        "attainment8": 67,
        "grade5Above": 84,   
    },
    {
        "name": "Alec Reed Academy",
        "shortName": "Alec Reed",
        "intakeDist": {
            "2019": null,
            "2020": null,
            "2021": null,
            "2022": null,
            "2023": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2023-08-01",
        "centre": {
            "lat": 51.542750,
            "lng": -0.383807
        },
        "description": "",
        "website": "www.alecreedacademy.co.uk",
        "colour": "#004a85",
        "schoolId": 2679,
        "email": "enquiries@alecreedacademy.co.uk",
        "address": "Bengarth Road<BR>Northolt<BR>UB5 5LQ",
        "phone": "020 8841 4511",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/134369",
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/134369/alec-reed-academy/secondary",
        "progress8": 0.24,
        "progress8Confidence": "Medium",
        "attainment8": 43,
        "grade5Above": 38
    },
    {
        "name": "Ark Acton Academy",
        "shortName": "Ark Acton",
        "intakeDist": {
            "2019": null,
            "2020": null,
            "2021": null,
            "2022": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2023-03-20",
        "centre": {
            "lat": 51.505401,
            "lng": -0.281008
        },
        "description": "",
        "website": "www.arkacton.org",
        "colour": "#be0c33",
        "schoolId": 2667,
        "email": "enq@actonhigh.ealing.sch.uk",
        "address": "Gunnersbury Lane<BR>Acton<BR>London<BR>W3 8EY",
        "phone": "020 3110 2400",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/146318",
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/146318/ark-acton-academy/secondary",
        "progress8": 0.21,
        "progress8Confidence": "Low",
        "attainment8": 46,
        "grade5Above": 46
    },
    {
        "name": "ARK Soane Academy",
        "shortName": "Ark Soane",
        "intakeDist": {
            "2019": 0,
            "2020": 0,
            "2021": null,
            "2022": null,
            "2023": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2024-05-30",
        "centre": {
            "lat": 51.507604,
            "lng": -0.276717
        },
        "description": "",
        "website": "arksoane.org",
        "colour": "#64a0c8",
        "schoolId": 41994,
        "email": "info@arksoane.org",
        "address": "Ark Soane Academy<BR>Gunnersbury Lane<BR>Acton<BR>London<BR>W3 8EA",
        "phone": "02074308858",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/147863",
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/147863/ark-soane-academy/secondary",
        "progress8": null,
        "progress8Confidence": null,
        "attainment8": null,
        "grade5Above": null
    },
    {
        "name": "Brentside High School",
        "shortName": "Brentside",
        "intakeDist": {
            "2019": 2.062,
            "2020": null,
            "2021": null,
            "2022": null,
            "2023": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2020-03-09",
        "centre": {
            "lat": 51.526546,
            "lng": -0.339980
        },
        "description": "",
        "website": "www.brentsidehigh.ealing.sch.uk",
        "colour": "#ce172e",
        "schoolId": 2601,
        "email": "info@brentsidehigh.ealing.sch.uk",
        "address": "Greenford Avenue<BR>Hanwell<BR>London<BR>W7 1JJ",
        "phone": "020 8575 9162",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101939",
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101939/brentside-high-school/secondary",
        "progress8": -0.04,
        "progress8Confidence": "Medium",
        "attainment8": 45,
        "grade5Above": 41
    },
    {
        "name": "Dormers Wells High School",
        "shortName": "Dormers Wells",
        "intakeDist": {
            "2019": 1.058,
            "2020": 1.123,
            "2021": 1.183,
            "2022": 3.391,
            "2023": null,
            "2024": 1.542
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2022-03-10",
        "centre": {
            "lat": 51.517817,
            "lng": -0.367062
        },
        "description": "",
        "website": "www.dwhs.co.uk",
        "colour": "#467cb4",
        "email": "info@dwhs.co.uk",
        "address": "Dormers Wells Lane<BR>Southall<BR>UB1 3HZ",
        "phone": "0208 566 6446",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/145348",
        "schoolId": 2665,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/145348/dormers-wells-high-school/secondary",
        "progress8": 0.64,
        "progress8Confidence": "Low",
        "attainment8": 49,
        "grade5Above": 56
    },
    {
        "name": "Drayton Manor High School",
        "shortName": "Drayton Manor",
        "intakeDist": {
            "2019": 0.78,
            "2020": 1.434,
            "2021": 0.897,
            "2022": 1.555,
            "2023": null,
            "2024": 1.614
        },
        "visible": true,
        "radius": false,
        "notes": "Distance measured in walking distance via pavements",
        "rating": "outstanding",
        "ratingDate": "2024-01-29",
        "centre": {
            "lat": 51.515894,
            "lng": -0.335856
        },
        "description": "",
        "website": "www.draytonmanorhighschool.co.uk",
        "colour": "#651968",
        "email": "adminoffice@draytonmanorhighschool.co.uk",
        "address": "Drayton Bridge Road<BR>Hanwell<BR>London<BR>W7 1EU",
        "phone": "020 8357 1900",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/137221",
        "schoolId": 2604,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/137221/drayton-manor-high-school/secondary",
        "progress8": 0.65,
        "progress8Confidence": "High",
        "attainment8": 55,
        "grade5Above": 64
    },
    {
        "name": "Ealing Fields High School",
        "shortName": "Ealing Fields",
        "intakeDist": {
            "2019": 0.557,
            "2020": 0.637,
            "2021": 0.545,
            "2022": 0.425,
            "2023": null,
            "2024": 0.498
        },
        "visible": true,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2019-09-10",
        "centre": {
            "lat": 51.496161,
            "lng": -0.312257
        },
        "description": "",
        "website": "ealingfields.org.uk",
        "colour": "#f2a900",
        "email": "office@ealingfields.org.uk",
        "address": "Little Ealing Lane<BR>Ealing<BR>London<BR>W5 4EJ",
        "phone": "0203 711 0022",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/142654",
        "schoolId": 40554,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/142654/ealing-fields-high-school/secondary",
        "progress8": 0.65,
        "progress8Confidence": "High",
        "attainment8": 55,
        "grade5Above": 64
    },
    {
        "name": "Elthorne Park High School",
        "shortName": "Elthorne Park",
        "intakeDist": {
            "2019": 0.705,
            "2020": 0.92,
            "2021": 0.701,
            "2022": 0.943,
            "2023": null,
            "2024": 0.718
        },
        "visible": true,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2019-04-05",
        "centre": {
            "lat": 51.500617,
            "lng": -0.330865
        },
        "description": "",
        "website": "www.ephs.ealing.sch.uk",
        "colour": "#8d2424",
        "email": "elthorne@ephs.ealing.sch.uk",
        "address": "Westlea Road<BR>Hanwell<BR>London<BR>W7 2AH",
        "phone": "020 8566 1166",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/131310",
        "schoolId": 2737
    },
    {
        "name": "Featherstone High School",
        "shortName": "Featherstone",
        "intakeDist": {
            "2019": 0.501,
            "2020": 0.522,
            "2021": 0.439,
            "2022": 0.814,
            "2023": null,
            "2024": 1.032
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2022-05-25",
        "centre": {
            "lat": 51.499616,
            "lng": -0.386514
        },
        "description": "",
        "website": "www.featherstonehigh.ealing.sch.uk",
        "colour": "#1e1344",
        "email": "info@featherstonehigh.ealing.sch.uk",
        "address": " - <BR>11 -  Montague Waye<BR>Southall<BR>UB2 5HF",
        "phone": "020 8843 0984",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/137729",
        "schoolId": 2666,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/137729/featherstone-high-school/secondary",
        "progress8": 0.61,
        "progress8Confidence": "High",
        "attainment8": 50,
        "grade5Above": 56
    },
    {
        "name": "Greenford High School",
        "shortName": "Greenford",
        "intakeDist": {
            "2019": 0.699,
            "2020": 0.621,
            "2021": 0.626,
            "2022": 0.845,
            "2023": null,
            "2024": 1.136
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2022-03-31",
        "centre": {
            "lat": 51.532424,
            "lng": -0.371254
        },
        "description": "",
        "website": "www.greenford.ealing.sch.uk",
        "colour": "#2fa866",
        "email": "office@greenford.ealing.sch.uk",
        "address": "Lady Margaret Road<BR>Southall<BR>Greenford<BR>UB1 2GU",
        "phone": "020 8578 9152",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101940",
        "schoolId": 2602,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101940/greenford-high-school/secondary",
        "progress8": 0.37,
        "progress8Confidence": "High",
        "attainment8": 51,
        "grade5Above": 59
    },
    {
        "name": "Northolt High School",
        "shortName": "Northolt",
        "intakeDist": {
            "2019": null,
            "2020": null,
            "2021": null,
            "2022": null,
            "2023": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "good",
        "ratingDate": "2023-12-10",
        "centre": {
            "lat": 51.551684,
            "lng": -0.375067
        },
        "description": "",
        "website": "www.northolthigh.org.uk",
        "colour": "#3b87a4",
        "email": "admin@northolthigh.org.uk",
        "address": "Eastcote Lane<BR>Northolt<BR>UB5 4HP",
        "phone": "020 8864 8544",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101943",
        "schoolId": 2605,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101943/northolt-high-school/secondary",
        "progress8": -0.32,
        "progress8Confidence": "Low",
        "attainment8": 39,
        "grade5Above": 34
    },
    {
        "name": "The Cardinal Wiseman Catholic School",
        "shortName": "Cardinal Wiseman",
        "intakeDist": {
            "2019": 2.103,
            "2020": 2.158,
            "2021": 3.609,
            "2022": 2.806,
            "2023": null,
            "2024": 1.078
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2024-05-20",
        "centre": {
            "lat": 51.525260,
            "lng": -0.352121
        },
        "description": "",
        "website": "www.wiseman.ealing.sch.uk",
        "colour": "#3c26b7",
        "email": "info@wiseman.ealing.sch.uk",
        "address": "Greenford Road<BR>Greenford<BR>UB6 9AW",
        "phone": "020 8575 8222",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101934",
        "schoolId": 2669,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101934/the-cardinal-wiseman-catholic-school/secondary",
        "progress8": 0.83,
        "progress8Confidence": "High",
        "attainment8": 58,
        "grade5Above": 69
    },
    {
        "name": "The Ellen Wilkinson School for Girls",
        "shortName": "Ellen Wilkinson",
        "intakeDist": {
            "2019": 3.54,
            "2020": 3.21,
            "2021": 2.531,
            "2022": null,
            "2023": null,
            "2024": 3.880
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2019-06-28",
        "centre": {
            "lat": 51.516368,
            "lng": -0.287527
        },
        "description": "",
        "website": "www.ellenwilkinson.ealing.sch.uk",
        "colour": "#f0b600",
        "email": "office@ellenwilkinson.ealing.sch.uk",
        "address": "Queens Drive<BR>Acton<BR>London<BR>W3 0HW",
        "phone": "020 8752 1525",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101941",
        "schoolId": 2603,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101941/the-ellen-wilkinson-school-for-girls/secondary",
        "progress8": 0.97,
        "progress8Confidence": "Medium",
        "attainment8": 58,
        "grade5Above": 61
    },
    {
        "name": "Twyford Church of England High School",
        "shortName": "Twyford",
        "intakeDist": {
            "2019": 0.323,
            "2020": 0.357,
            "2021": 0.585,
            "2022": 0.492,
            "2023": null,
            "2024": 0.860
        },
        "visible": true,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2023-12-14",
        "centre": {
            "lat": 51.509637,
            "lng": -0.277995
        },
        "description": "",
        "website": "www.twyford.ealing.sch.uk",
        "colour": "#da1935",
        "email": "office@twyford.ealing.sch.uk",
        "address": "Twyford Crescent<BR>Acton<BR>London<BR>W3 9PP",
        "phone": "020 8752 0141",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/137546/twyford-church-of-england-high-school",
        "schoolId": 2668,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/137546/twyford-church-of-england-high-school/secondary",
        "progress8": 1,
        "progress8Confidence": "High",
        "attainment8": 63,
        "grade5Above": 74
    },
    {
        "name": "Villiers High School",
        "shortName": "Villiers",
        "intakeDist": {
            "2019": null,
            "2020": null,
            "2021": null,
            "2022": null,
            "2023": null,
            "2024": null
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2022-10-07",
        "centre": {
            "lat": 51.509497,
            "lng": -0.373441
        },
        "description": "",
        "website": "www.villiers.ealing.sch.uk",
        "colour": "#337ab7",
        "email": "info@villiers.ealing.sch.uk",
        "address": "Boyd Avenue<BR>Southall<BR>UB1 3BT",
        "phone": "020 8813 8001",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/101928",
        "schoolId": 2663,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/101928/villiers-high-school/secondary",
        "progress8": 0.5,
        "progress8Confidence": null,
        "attainment8": 46,
        "grade5Above": 50
    },
    {
        "name": "William Perkin CE High School",
        "shortName": "William Perkin",
        "intakeDist": {
            "2019": 0.375,
            "2020": 0.315,
            "2021": 0.346,
            "2022": 0.709,
            "2023": null,
            "2024": 1.160
        },
        "visible": false,
        "radius": true,
        "notes": null,
        "rating": "outstanding",
        "ratingDate": "2019-03-12",
        "centre": {
            "lat": 51.537516,
            "lng": -0.349544
        },
        "description": "",
        "website": "www.williamperkin.org.uk",
        "colour": "#623580",
        "email": "admissions@wiliamperkin.org.uk",
        "address": "Oldfield Lane North<BR>Greenford<BR>UB6 8QD",
        "phone": "020 8832 8950",
        "perf": "https://www.compare-school-performance.service.gov.uk/school/139725",
        "schoolId": 37048,
        "perfDetailed": "https://www.compare-school-performance.service.gov.uk/school/139725/william-perkin-ce-high-school/secondary",
        "progress8": 0.87,
        "progress8Confidence": "High",
        "attainment8": 59,
        "grade5Above": 64
    }
];

schoolsList.forEach(school => {
    let average = 0;
    let max = 0;
    let min = 999;

    let values = 0;
    for (let i in school.intakeDist) {
        let val = school.intakeDist[i];
        if (val !== null && val > 0) {
            average += val;
            if (max < val) max = val;
            if (val && min > val) min = val;
            values++;
        }
    }

    if (values === 0) {
        average = school.intakeDist['2020'];
        min = school.intakeDist['2020'];
        max = school.intakeDist['2020'];
    } else {
        average = average / values;
    }

    school.intakeDist['average'] = average;
    school.intakeDist['min'] = min;
    school.intakeDist['max'] = max;
});

export default schoolsList;

